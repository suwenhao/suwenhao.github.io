webpackJsonp([15],{101:function(t,e,a){"use strict";function i(t){a(148)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(102),l=a(150),n=a(5),s=i,d=n(o.a,l.a,!1,s,"data-v-1487a878",null);e.default=d.exports},102:function(t,e,a){"use strict";var i=a(14),o=a(80),l=a.n(o);e.a={created:function(){var t=this,e={token:t.token,tradeAreaId:t.taid,isOnLine:1,pageSize:10,pageNumber:1};i.a.ajaxData(t.token,i.a.urlMap.product.list,e,"get",function(e){l.a.each(e.data,function(e,a){e.thumbnailSrc=i.a.imageUrl+e.thumbnail,t.allGoods.push(e)}),t.list=e.data,console.log(e),t.pageNumber=e.pageNumber,t.totalPages=e.totalPages})},data:function(){return{list:[],defaultList:{id:null,name:"",price:null,logo:""},allLoaded:!1,bottomStatus:"",wrapperHeight:0,pageNumber:1,totalPages:1,allGoods:[]}},props:["init","type","token","id","taid"],methods:{handleBottomChange:function(t){this.bottomStatus=t},loadBottom:function(){var t=this,e=this;setTimeout(function(){if(t.pageNumber<t.totalPages){t.pageNumber++;var a={tradeAreaId:t.taid,isOnLine:1,pageSize:10,pageNumber:t.pageNumber};i.a.ajaxData(e.token,i.a.urlMap.product.list,a,"get",function(t){l.a.each(t.data,function(t,a){t.thumbnailSrc=i.a.imgUrl+t.thumbnail,e.list.push(t)}),e.pageNumber=t.pageNumber,e.totalPages=t.totalPages})}else t.allLoaded=!0;try{t.$refs.loadmore.onBottomLoaded()}catch(t){}},1500)},checkFn:function(t){this.defaultList.id=t.id,this.defaultList.name=t.name,this.defaultList.logo=t.thumbnailSrc,this.defaultList.thumbnail=t.thumbnail,this.defaultList.price=t.price},update:function(){null!=this.defaultList.id?(this.$emit("setlist",this.defaultList),this.init.key=!1):this.MintUI.MessageBox("提示","请选择商品")},rt:function(){return!0},close:function(){this.init.key=!1}},mounted:function(){this.wrapperHeight=document.documentElement.clientHeight-30}}},148:function(t,e,a){var i=a(149);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(4)("b115b632",i,!0,{})},149:function(t,e,a){e=t.exports=a(3)(!1),e.push([t.i,".pup[data-v-1487a878]{width:100%;background-color:rgba(0,0,0,.5);height:100%}.box[data-v-1487a878]{width:86%;position:absolute;z-index:66;top:10%;left:7%;height:80%;border-radius:.3rem;background:#fff;display:flex;flex-direction:column;justify-content:space-between}.box .b-header[data-v-1487a878]{height:4rem;line-height:3.4rem;font-size:1.2rem;display:flex;flex-direction:row;justify-content:space-between;border-bottom:1px solid #eee}.box .b-header div[data-v-1487a878]{border-right:1px solid #eee}.box .b-header div[data-v-1487a878]:first-child{flex:2}.box .b-header div[data-v-1487a878]:nth-child(2){flex:4}.box .b-header div[data-v-1487a878]:nth-child(3){flex:2}.box .b-content[data-v-1487a878]{overflow-y:auto}.box .b-footer[data-v-1487a878]{height:5.2rem;line-height:5.2rem;display:flex;flex-direction:row;border-top:1px solid #eee}.box .b-footer button[data-v-1487a878]{flex:1;text-align:center;background:transparent;border:0;padding:0;margin:0;font-size:1.2rem;outline:none}.box .b-footer button[data-v-1487a878]:active{background:#ddd}.box .b-footer button[data-v-1487a878]:first-child{border-radius:0 0 0 .3rem;border-right:1px solid #eee}.box .b-footer button[data-v-1487a878]:last-child{color:#e56fa6;border-radius:0 0 .3rem 0}.page-loadmore-list li[data-v-1487a878]{height:5rem;line-height:5rem;border-bottom:1px solid #eee;display:flex;flex-direction:row;justify-content:space-between}.page-loadmore-list li div[data-v-1487a878]{border-right:1px solid #eee;display:flex;justify-content:center;align-items:center}.page-loadmore-list li div img[data-v-1487a878]{width:4.4rem;height:4.4rem;display:block}.page-loadmore-list li div[data-v-1487a878]:first-child{flex:2}.page-loadmore-list li div[data-v-1487a878]:nth-child(2){flex:4}.page-loadmore-list li div[data-v-1487a878]:nth-child(3){flex:2}.page-loadmore-list .active[data-v-1487a878]{border:1px solid #e56fa6;background-color:#fff0f7}.loading-icon[data-v-1487a878]{display:inline-block}.check i[data-v-1487a878]{width:1.6rem;height:1.6rem;display:block;border:1px solid #ccc}",""])},150:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.init.key?a("mt-popup",{staticClass:"pup",attrs:{modal:!1,position:"bottom"},model:{value:t.init.key,callback:function(e){t.$set(t.init,"key",e)},expression:"init.key"}},[a("div",{staticClass:"box"},[a("div",{staticClass:"b-header",on:{click:function(e){e.stopPropagation(),t.rt()}}},[a("div",[t._v("商品图片")]),t._v(" "),a("div",[t._v("商品名")]),t._v(" "),a("div",[t._v("销售价")])]),t._v(" "),a("div",{ref:"wrapper",staticClass:"b-content",style:{height:t.wrapperHeight+"px"}},[a("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded},on:{"bottom-status-change":t.handleBottomChange}},[a("ul",{staticClass:"page-loadmore-list"},[0==t.list.length?a("li",{staticClass:"page-loadmore-listitem"},[a("div",[t._v("\n                          暂无数据\n                      ")])]):t._e(),t._v(" "),t._l(t.list,function(e,i){return t.list.length>0?a("li",{key:i,staticClass:"page-loadmore-listitem",class:t.defaultList.id==e.id?"active":"",attrs:{"data-id":"item.id"},on:{click:function(a){t.checkFn(e)}}},[a("div",[a("img",{attrs:{src:e.thumbnailSrc,alt:""}})]),t._v(" "),a("div",[t._v("\n                         "+t._s(e.name)+"\n                      ")]),t._v(" "),a("div",[t._v("\n                          "+t._s(e.price)+"\n                      ")])]):t._e()})],2),t._v(" "),a("div",{staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==t.bottomStatus,expression:"bottomStatus !== 'loading'"}],class:{"is-rotate":"drop"===t.bottomStatus}},[t._v("↑")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}],staticClass:"loading-icon"},[a("mt-spinner",{attrs:{type:"snake"}})],1)])])],1),t._v(" "),a("div",{staticClass:"b-footer"},[a("button",{on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[t._v("取消")]),t._v(" "),a("button",{on:{click:function(e){e.stopPropagation(),t.update(e)}}},[t._v("确定")])])])]):t._e()},o=[],l={render:i,staticRenderFns:o};e.a=l}});
//# sourceMappingURL=15.js.map?v=a9f928cde4e0b4c68213