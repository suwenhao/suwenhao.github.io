webpackJsonp([3],{134:function(t,e,i){var a=i(135);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(4)("9889cc60",a,!0,{})},135:function(t,e,i){var a=i(15);e=t.exports=i(3)(!1),e.push([t.i,"header[data-v-38c2a70d]{background-color:#fff;color:#000;height:3.5rem;display:flex;justify-content:space-around;border-bottom:1px solid #e8e6e6}header .back[data-v-38c2a70d]{width:3.5rem;height:3.5rem;background-image:url("+a(i(68))+");background-repeat:no-repeat;background-position:50%;background-size:1.5rem}header .header-title[data-v-38c2a70d]{font-size:1.4rem;line-height:3.5rem;flex:1;text-align:center}header .header-more[data-v-38c2a70d]{width:3.5rem}.content[data-v-38c2a70d]{width:100%}.section[data-v-38c2a70d]{position:relative}.section .item[data-v-38c2a70d]{display:block;padding:10px 0;position:relative;border-bottom:1px solid #f7f7f7;min-height:24px;overflow:hidden;margin:0 5px 0 0}.section .item i.tip[data-v-38c2a70d]{width:100%;float:left;height:24px;line-height:24px;display:block;font-size:14px;color:red;font-style:normal}.section .item .button[data-v-38c2a70d]{width:100%;padding:10px 0;background-color:#e56fa6;color:#fff;border-radius:5px;outline:none;font-size:14px;border:0}.section .item .button[data-v-38c2a70d]:active{background-color:#de669e}.section .item label[data-v-38c2a70d]{line-height:26px;width:70px;height:24px;font-size:14px;color:#666;display:block;position:absolute;left:10px;top:10px}.section .item label span[data-v-38c2a70d]{color:#f00000;font-size:14px;line-height:24px;display:inline-block}.section .item label i[data-v-38c2a70d]{width:18px;height:18px;margin-bottom:-5px;display:inline-block;background-image:url("+a(i(69))+");background-position:50%;background-repeat:no-repeat;background-size:18px}.section .item label i.active[data-v-38c2a70d]{background-image:url("+a(i(70))+")}.section .item span.flex-box[data-v-38c2a70d]{display:block;overflow:hidden}.section .item span.goods-fill-in[data-v-38c2a70d]{position:relative}.section .item span.goods-fill-in .fle[data-v-38c2a70d]{width:40%;margin:0;font-size:14px}.section .item span.goods-fill-in .slimw[data-v-38c2a70d]{width:10%;line-height:26px;text-align:center}.section .item span.goods-fill-in .btomr[data-v-38c2a70d]{width:10px;height:10px;display:block;background-image:url("+a(i(16))+");background-repeat:no-repeat;background-position:100% 100%;position:absolute;background-size:7px;bottom:0;right:0;z-index:2}.section .item span.goods-fill-in div[data-v-38c2a70d]{margin:0 .5%;width:32.33%;float:left}.section .item span.goods-fill-in div input[type=text][data-v-38c2a70d]{background-color:#f5f5f5;text-indent:8px}.section .item span.goods-fill-in div button[data-v-38c2a70d]{width:100%;text-align:left;outline:none;height:26px;padding:2px 0;display:block;margin:0;border:0;font-size:14px;background:none}.section .item span.goods-fill-in div button.right[data-v-38c2a70d]{text-align:right}.section .item span.goods-fill-in div button.input[data-v-38c2a70d]{outline:none;width:70%;float:right;background-color:#e56fa6;color:#fff;border-radius:3px;text-align:center}.section .item span.goods-fill-in div button.input[data-v-38c2a70d]:active{background-color:#de669e}.section .item span.start[data-v-38c2a70d]{min-height:26px}.section .item>span[data-v-38c2a70d]{margin-left:80px;display:block}.section .item>span input[data-v-38c2a70d]{outline:none;line-height:26px;height:26px;padding:0;margin:0;display:block;border:0;width:100%;font-size:14px}.section .item>span input.feilei[data-v-38c2a70d]{background:transparent;text-align:left}.section .item>span i.tip[data-v-38c2a70d]{width:100%;float:left;height:24px;line-height:24px;display:block;font-size:14px;color:red;font-style:normal}.section .item>span textarea[data-v-38c2a70d]{outline:none;padding:0;margin:0;display:block;border:0;width:100%;font-size:14px}.section .item>span .time-add[data-v-38c2a70d]{width:100%;overflow:hidden}.section .item>span .time-add button[data-v-38c2a70d]{outline:none;width:62px;height:30px;display:block;float:left;background-color:#e56fa6;color:#fff;border:0;font-size:14px;border-radius:3px}.section .item>span .time-add span[data-v-38c2a70d]{line-height:34px;display:block;float:left;margin-left:10px;font-size:14px;color:#333}.section .item>span .time-c-box[data-v-38c2a70d]{overflow:hidden}.section .item>span .time-c-box .time-item[data-v-38c2a70d]{overflow:hidden;margin-top:10px}.section .item>span .time-c-box .time-item input[data-v-38c2a70d]{height:30px;display:block;border:1px solid #ccc;border-radius:4px;text-align:center;width:62px;float:left;background-color:#fff}.section .item>span .time-c-box .time-item span[data-v-38c2a70d]{display:block;float:left;line-height:30px;text-align:center;padding:0 5px}.section .item>span .time-c-box .time-item i[data-v-38c2a70d]{width:30px;height:30px;display:block;float:left;margin-left:10px;margin-top:0;background:url("+a(i(71))+") no-repeat 50%;background-size:24px}.section .item>span .flex-box[data-v-38c2a70d]{display:block}.section .item>span .type-t[data-v-38c2a70d]{padding:4px 0;padding-bottom:10px}.section .item>span .type-t i[data-v-38c2a70d]{background-size:100%;background-repeat:no-repeat;background-position:50%;width:40px;height:40px;margin-right:20px;display:block}.section .item>span .type-t i[data-v-38c2a70d]:first-child{background-image:url("+a(i(72))+")}.section .item>span .type-t i[data-v-38c2a70d]:nth-child(2){background-image:url("+a(i(73))+")}.section .item>span .type-t i.active[data-v-38c2a70d]{box-shadow:2px 2px 2px #aaa}.section .item>span .goods-color[data-v-38c2a70d]{height:30px;padding:0 15px;line-height:30px;margin-right:12px;margin-bottom:10px;border-radius:3px;border:1px solid #ccc;background-color:#fff;color:#c1c1c1;font-size:14px}.section .item>span .goods-color.nomargin[data-v-38c2a70d]{margin-bottom:0}.section .item>span .goods-color.active[data-v-38c2a70d]{border:1px solid #e56fa6;background-color:#e56fa6;color:#fff}.section .item>span .goods-img[data-v-38c2a70d]{float:left;padding:5px;position:relative;height:auto}.section .item>span .goods-img i[data-v-38c2a70d]{position:absolute;width:20px;height:20px;background-repeat:no-repeat;background-image:url("+a(i(74))+");background-position:50%;background-size:16px;display:block;top:-3px;right:-1px}.section .item>span .goods-img i.true[data-v-38c2a70d]{background-image:url("+a(i(75))+")}.section .item>span .goods-img i.false[data-v-38c2a70d]{background-image:url("+a(i(76))+');background-size:16px}.section .item>span .goods-img img[data-v-38c2a70d]{display:block;height:50px}.section .item>span .goods-img span[data-v-38c2a70d]{font-size:14px}.section .item>span .clear[data-v-38c2a70d]{clear:left;float:none;overflow:hidden;display:block}.section .noMin[data-v-38c2a70d]{min-height:auto}.section .noneBor[data-v-38c2a70d]{border:0;padding:10px 0}.section .nb[data-v-38c2a70d]{border:0}.section[data-v-38c2a70d]:before{height:10px;width:100%;content:"";display:block;background-color:#f7f7f7;top:0}.section[data-v-38c2a70d]:first-child::before{height:0;width:100%;content:"";display:block;background-color:#f7f7f7;top:0}.pup[data-v-38c2a70d]{padding:15px 1px;text-align:center;border-bottom:1px solid #f1f1f1}ul.listul[data-v-38c2a70d]{background-color:#fff;width:100%;max-height:300px;overflow-y:auto}ul.listul li[data-v-38c2a70d]{line-height:30px;font-size:14px;padding:5px 15px;position:relative;border-bottom:1px solid #f1f1f1}ul.listul li.active[data-v-38c2a70d]:after{position:absolute;content:"";width:16px;height:16px;bottom:14px;display:block;right:15px;background-image:url('+a(i(77))+");background-position:50%;background-size:100%;background-repeat:no-repeat}.queding[data-v-38c2a70d]{overflow:hidden;width:100%}.queding button[data-v-38c2a70d]{margin:20px auto;padding:8px 0;width:80%;display:block;text-align:center;background-color:#e56fa6;color:#fff;border-radius:5px;outline:none;font-size:14px;border:0}.queding button[data-v-38c2a70d]:active{background-color:#de669e}.mint-datetime-action[data-v-38c2a70d]{font-size:14px;color:#e56fa6}.mint-datetime-cancel[data-v-38c2a70d]{color:#000}.ql-snow .ql-toolbar button svg[data-v-38c2a70d],.quillWrapper .ql-snow.ql-toolbar button svg[data-v-38c2a70d]{width:20px;height:20px}.ql-toolbar.ql-snow .ql-formats[data-v-38c2a70d]{margin-right:0}.mint-msgbox-btn[data-v-38c2a70d],.picker-slot[data-v-38c2a70d]{font-size:14px}.mint-msgbox-message[data-v-38c2a70d]{font-size:15px}.mint-msgbox-confirm[data-v-38c2a70d],.mint-msgbox-confirm[data-v-38c2a70d]:active{color:#e56fa6}.mint-toast-text[data-v-38c2a70d],.picker-item[data-v-38c2a70d],.picker-slot[data-v-38c2a70d]{font-size:14px}.priceInput[data-v-38c2a70d],.stockInput[data-v-38c2a70d]{width:90%;outline:none;border:0;height:20px;font-size:14px;color:#333;display:block;padding:0}button[data-v-38c2a70d],input[data-v-38c2a70d]{-webkit-appearance:button;-ms-appearance:button;-moz-appearance:button;appearance:button}.section .item .label b[data-v-38c2a70d]{text-decoration:none;font-style:none;font-weight:400;margin-right:10px;text-align:left;display:block;float:left;font-size:14px}.section .item.noflex[data-v-38c2a70d]{position:static}.section .item.noflex label[data-v-38c2a70d]{position:static;margin-left:10px;height:auto;width:auto}.section .item.noflex span[data-v-38c2a70d]{margin-left:10px;margin-top:10px}.section .item.noflex span .goods-color[data-v-38c2a70d]{margin-bottom:10px;float:left}.section .item.noflex1 span div[data-v-38c2a70d]{float:left;margin-right:8px;padding:0 10px}.pup[data-v-38c2a70d]{width:100%;background-color:rgba(0,0,0,.5);height:100%}.section .submintItem[data-v-38c2a70d]{margin:0 10px}.time-center[data-v-38c2a70d]{height:201px;width:80%;position:absolute;z-index:66;top:50%;left:10%;border-radius:3px;margin-top:-100px;background:#fff}.time-center .t-header[data-v-38c2a70d]{height:50px;line-height:50px;font-size:15px;text-align:center;font-weight:700}.time-center .t-content[data-v-38c2a70d]{height:30px;padding:37px 0}.time-center .t-content input[data-v-38c2a70d]{height:30px;border:0;display:block;color:#fff;border-radius:4px;text-align:center;width:40%;float:left;font-size:14px;outline:none;background-color:#e56fa6}.time-center .t-content input[data-v-38c2a70d]:first-child{margin-left:2.5%}.time-center .t-content input[data-v-38c2a70d]:last-child{margin-right:2.5%}.time-center .t-content span[data-v-38c2a70d]{display:block;float:left;line-height:30px;text-align:center;width:15%;padding:0}.time-center .t-footer[data-v-38c2a70d]{height:45px;line-height:45px;overflow:hidden;border-top:1px solid #eee}.time-center .t-footer button[data-v-38c2a70d]{width:50%;line-height:45px;float:left;text-align:center;background:transparent;border:0;padding:0;margin:0;font-size:14px;outline:none}.time-center .t-footer button[data-v-38c2a70d]:active{background:#ddd}.time-center .t-footer button[data-v-38c2a70d]:first-child{border-radius:0 0 0 3px;border-right:1px solid #eee}.time-center .t-footer button[data-v-38c2a70d]:last-child{color:#e56fa6;border-radius:0 0 3px 0}.ql-snow .ql-toolbar button svg[data-v-38c2a70d],.quillWrapper .ql-snow.ql-toolbar button svg[data-v-38c2a70d]{width:15px;height:15px}",""])},139:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"box"}},[a("div",{staticClass:"content"},[a("div",{staticClass:"section"},[a("div",{staticClass:"item"},[t._m(0),t._v(" "),a("span",[a("Combobox",{attrs:{init:t.cardTypeInit,type:t.Type}},[a("div",{staticStyle:{overflow:"hidden"},attrs:{slot:"box"},on:{click:function(e){return e.stopPropagation(),t.rt(e)}},slot:"box"},[a("div",{staticClass:"pup",on:{click:function(e){return e.stopPropagation(),t.rt(e)}}},[t._v("请选择分类")]),t._v(" "),a("ul",{staticClass:"listul"},t._l(t.cardTypeList,function(e,i){return a("li",{key:i,class:t.cardTypeInit.value==e.value?"active":"",attrs:{"data-key":t.cardTypeInit.value==e.value?0:1,"data-index":i,"data-value":e.value},on:{click:function(i){i.stopPropagation(),t.cardChangFn(i,e)}}},[t._v(t._s(e.text))])})),t._v(" "),a("div",{staticClass:"queding",on:{click:function(e){return e.stopPropagation(),t.rt(e)}}},[a("button",{on:{click:function(e){return e.stopPropagation(),t.okCradTypeList(e)}}},[t._v("确定")])])])])],1)]),t._v(" "),1==t.amtype?a("div",{staticClass:"item"},[t._m(1),t._v(" "),a("span",[a("input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,num:!0},expression:"{required:true,num:true}"},{name:"model",rawName:"v-model",value:t.cardValue,expression:"cardValue"}],attrs:{disabled:3==t.Type,type:"number",name:"cardValue",id:"cardValue",placeholder:"请输入卡券面值"},domProps:{value:t.cardValue},on:{input:function(e){e.target.composing||(t.cardValue=e.target.value)}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cardValue"),expression:"errors.has('cardValue')"}],staticClass:"tip"},[t._v(t._s(t.errors.first("cardValue")))])])]):a("div",{staticClass:"item"},[t._m(2),t._v(" "),a("span",[a("input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,maxmin:!0},expression:"{required:true,maxmin:true}"},{name:"model",rawName:"v-model",value:t.cardValue,expression:"cardValue"}],attrs:{disabled:3==t.Type,type:"number",name:"cardValue",id:"cardValue",placeholder:"1-9.9"},domProps:{value:t.cardValue},on:{input:function(e){e.target.composing||(t.cardValue=e.target.value)}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cardValue"),expression:"errors.has('cardValue')"}],staticClass:"tip"},[t._v(t._s(t.errors.first("cardValue")))])])]),t._v(" "),a("div",{staticClass:"item noneBor"},[t._m(3),t._v(" "),a("span",[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.cardTitle,expression:"cardTitle"}],attrs:{disabled:3==t.Type,type:"text",name:"cardTitle",id:"cardTitle",placeholder:"请输入活动标题"},domProps:{value:t.cardTitle},on:{input:function(e){e.target.composing||(t.cardTitle=e.target.value)}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("cardTitle"),expression:"errors.has('cardTitle')"}],staticClass:"tip"},[t._v(t._s(t.errors.first("cardTitle")))])])])]),t._v(" "),a("div",{staticClass:"section"},[a("div",{staticClass:"item"},[t._m(4),t._v(" "),a("span",{staticClass:"flex-box"},[t._l(t.coversImg,function(e,i){return a("div",{key:i,staticClass:"goods-img"},[a("img",{attrs:{src:""==e.dataurl?e.url:e.dataurl,alt:e.alt},on:{click:function(a){3==t.Type?t.rt():t.previewImg(e,i)}}})])}),t._v(" "),3!=t.Type?a("div",{staticClass:"goods-img",on:{click:function(e){t.upFileInfo.key=!0}}},[a("img",{attrs:{src:i(78)},on:{click:function(e){t.upFileInfo.key=!0}}}),t._v(" "),a("span",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("建议上传正方形图片")])]):t._e()],2)]),t._v(" "),a("div",{staticClass:"item"},[t._m(5),t._v(" "),a("span",{staticClass:"goods-fill-in start"},[a("div",{staticClass:"fle"},[a("button",{attrs:{"data-date":t.st},on:{click:function(e){3==t.Type?t.rt():t.startTime()}}},[t._v(t._s(t.starttime))])]),t._v(" "),a("div",{staticClass:"slimw fle"},[t._v("\n                      至\n                  ")]),t._v(" "),a("div",{staticClass:"fle"},[a("button",{staticClass:"right",attrs:{"data-date":t.et},on:{click:function(e){3==t.Type?t.rt():t.endTime()}}},[t._v(t._s(t.endtime))])]),t._v(" "),a("i",{staticClass:"btomr"})])]),t._v(" "),a("div",{staticClass:"item"},[a("label",[t._v("\n                  领券数量\n              ")]),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.getCardNum,expression:"getCardNum"}],attrs:{disabled:3==t.Type,type:"number",name:"getCardNum",id:"getCardNum",placeholder:"不填默认为1"},domProps:{value:t.getCardNum},on:{input:function(e){e.target.composing||(t.getCardNum=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"item"},[a("label",{attrs:{for:"condition"}},[t._v("\n                  使用条件"),4!=t.cardTypeInit.value?a("span",[t._v("*")]):t._e()]),t._v(" "),4!=t.cardTypeInit.value?a("span",[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|num",expression:"'required|num'"},{name:"model",rawName:"v-model",value:t.condition,expression:"condition"}],attrs:{disabled:3==t.Type,type:"number",name:"condition",id:"condition",placeholder:"满多少金额可以使用"},domProps:{value:t.condition},on:{input:function(e){e.target.composing||(t.condition=e.target.value)}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("condition"),expression:"errors.has('condition')"}],staticClass:"tip"},[t._v(t._s(t.errors.first("condition")))])]):t._e(),t._v(" "),4==t.cardTypeInit.value?a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.condition,expression:"condition"}],attrs:{disabled:3==t.Type,type:"number",name:"condition",id:"condition",placeholder:"满多少金额可以使用"},domProps:{value:t.condition},on:{input:function(e){e.target.composing||(t.condition=e.target.value)}}})]):t._e()])]),t._v(" "),a("div",{staticClass:"section"},[a("div",{staticClass:"item"},[t._m(6),t._v(" "),a("span",[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.place,expression:"place"}],attrs:{disabled:3==t.Type,type:"text",name:"place",id:"place",placeholder:"请输入卡券使用场所"},domProps:{value:t.place},on:{input:function(e){e.target.composing||(t.place=e.target.value)}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("place"),expression:"errors.has('place')"}],staticClass:"tip"},[t._v(t._s(t.errors.first("place")))])])]),t._v(" "),3==t.Type?a("div",{staticClass:"item"},[t._m(7),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lingQuNum,expression:"lingQuNum"}],attrs:{disabled:!0,type:"number",name:"lingQuNum",id:"lingQuNum"},domProps:{value:t.lingQuNum},on:{input:function(e){e.target.composing||(t.lingQuNum=e.target.value)}}})])]):t._e(),t._v(" "),3==t.Type?a("div",{staticClass:"item"},[t._m(8),t._v(" "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usedNum,expression:"usedNum"}],attrs:{disabled:!0,type:"number",name:"usedNum",id:"usedNum"},domProps:{value:t.usedNum},on:{input:function(e){e.target.composing||(t.usedNum=e.target.value)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"item"},[t._m(9),t._v(" "),a("span",[a("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.instruction,expression:"instruction"}],attrs:{disabled:3==t.Type,name:"instruction",id:"instruction",placeholder:"请输入卡券使用说明",cols:"30",rows:"4"},domProps:{value:t.instruction},on:{input:function(e){e.target.composing||(t.instruction=e.target.value)}}}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("instruction"),expression:"errors.has('instruction')"}],staticClass:"tip"},[t._v(t._s(t.errors.first("instruction")))])])]),t._v(" "),a("div",{staticClass:"item noflex1"},[t._m(10),t._v(" "),a("span",{staticClass:"flex-box"},t._l(t.limitedDate,function(e,i){return a("div",{key:i,class:["goods-color",t.xhClass(e)?"active":""],attrs:{"data-key":t.xhClass(e)?0:1,"data-id":e.id},on:{click:function(i){3==t.Type?t.rt():t.weekKeyFn(i,e)}}},[t._v("\n                     "+t._s(e.name)+"\n                 ")])}))]),t._v(" "),a("div",{staticClass:"item"},[a("label",[t._v("\n                 有限时段\n              ")]),t._v(" "),a("span",[3!=t.Type?a("div",{staticClass:"time-add"},[a("button",{on:{click:t.addTime}},[t._v("添加")]),t._v(" "),a("span",[t._v("（例如：00:00至23:59）")])]):t._e(),t._v(" "),a("div",{staticClass:"time-c-box"},t._l(t.limitedTime,function(e,i){return a("div",{key:i,staticClass:"time-item"},[a("input",{attrs:{disabled:3==t.Type,type:"text"},domProps:{value:e.one},on:{blur:function(e){t.regTime(e,i)}}}),t._v(" "),a("span",[t._v("至")]),t._v(" "),a("input",{attrs:{disabled:3==t.Type,type:"text"},domProps:{value:e.two},on:{blur:function(e){t.regTime1(e,i)}}}),t._v(" "),3!=t.Type?a("i",{attrs:{"data-id":e.id},on:{click:function(i){i.stopPropagation(),t.removeTime(e.id)}}}):t._e()])}))])])]),t._v(" "),a("div",{staticClass:"section"},[a("div",{staticClass:"item submintItem"},[1==t.Type?a("button",{staticClass:"button",attrs:{disabled:t.disabled},on:{click:t.ok}},[t._v("确定")]):t._e(),t._v(" "),2==t.Type?a("button",{staticClass:"button",attrs:{disabled:t.disabled},on:{click:t.ok}},[t._v("保存")]):t._e()])])]),t._v(" "),t.upFileInfo.key?a("image-html5-upload",{attrs:{imgNumLimit:"1",init:t.upFileInfo,parentImgArr:t.coversImg},on:{imgIndex:t.changeIndex}}):t._e(),t._v(" "),a("alert-img",{attrs:{init:t.imgPreview,imgArr:t.coversImg,autobutton:!1},on:{indexChange:t.indexChange,remove:t.imgChange}}),t._v(" "),a("alert-time",{attrs:{init:t.limitTimeInfo}},[a("div",{staticClass:"time-center",attrs:{slot:"timebox"},slot:"timebox"},[a("div",{staticClass:"t-header"},[t._v("\n              选择时间\n          ")]),t._v(" "),a("div",{staticClass:"t-content"},[a("input",{ref:"cot",attrs:{type:"button",value:"00:00"},on:{click:function(e){e.stopPropagation(),t.checkOneTime(e)}}}),t._v(" "),a("span",[t._v("至")]),t._v(" "),a("input",{ref:"ctt",attrs:{type:"button",value:"23:59"},on:{click:function(e){e.stopPropagation(),t.checkTwoTime(e)}}})]),t._v(" "),a("div",{staticClass:"t-footer"},[a("button",{on:{click:function(e){return e.stopPropagation(),t.timeClose(e)}}},[t._v("取消")]),t._v(" "),a("button",{on:{click:function(e){return e.stopPropagation(),t.timeOk(e)}}},[t._v("确定")])])])]),t._v(" "),a("mt-datetime-picker",{ref:"date",attrs:{type:"date",startDate:new Date("2010-01-01"),endDate:t.endDate},on:{confirm:t.handStrat},model:{value:t.startTime1,callback:function(e){t.startTime1=e},expression:"startTime1"}}),t._v(" "),a("mt-datetime-picker",{ref:"date1",attrs:{type:"date",endDate:new Date("2050-01-01"),startDate:t.startDate},on:{confirm:t.handEnd},model:{value:t.endTime1,callback:function(e){t.endTime1=e},expression:"endTime1"}}),t._v(" "),a("mt-datetime-picker",{ref:"picker",attrs:{type:"time",endHour:t.endHour},on:{confirm:t.handleConfirm}}),t._v(" "),a("mt-datetime-picker",{ref:"picker1",attrs:{type:"time",startHour:t.startHour,startMinute:t.startMinute},on:{confirm:t.handleConfirm1}})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[t._v("\n                  卡券类型"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"cardValue"}},[t._v("\n                  卡券面值"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"cardValue"}},[t._v("\n                  卡券折扣"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"cardTitle"}},[t._v("\n                  卡券标题"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[t._v("\n                  卡卷封面"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[t._v("\n                  使用时间"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"place"}},[t._v("\n                  使用场所"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"lingQuNum"}},[t._v("\n                  领取数量"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"usedNum"}},[t._v("\n                  使用数量"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{attrs:{for:"instruction"}},[t._v("\n                  卡券说明"),i("span",[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[t._v("\n                  有限时间"),i("span",[t._v("*")])])}],o={render:a,staticRenderFns:n};e.a=o},21:function(t,e,i){"use strict";function a(t){i(134)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(95),o=i(139),r=i(5),s=a,d=r(n.a,o.a,!1,s,"data-v-38c2a70d",null);e.default=d.exports},67:function(t,e,i){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){if(i){for(var a=t.length;a--;)if(t[a][i]===e)return a;return"false"}for(var a=t.length;a--;)if(t[a]===e)return a;return"false"},o=function(t,e){if("string"==typeof t)var i=new Date(parseInt(t));else if("object"==(void 0===t?"undefined":a(t)))var i=new Date(t);else var i=new Date(t);var n=i.getFullYear(),o=i.getMonth()+1;o<10&&(o="0"+o);var r=i.getDate();r<10&&(r="0"+r);var s=i.getHours();s<10&&(s="0"+s);var d=i.getMinutes();d<10&&(d="0"+d);var c=i.getSeconds();return c<10&&(c="0"+c),""==e||void 0==e||null==e||"YY-MM-DD hh:mm:ss"==e?n+"-"+o+"-"+r+" "+s+":"+d+":"+c:"YY-MM-DD"==e?n+"-"+o+"-"+r:"YY-MM-DD hh:mm"==e?n+"-"+o+"-"+r+" "+s+":"+d:void 0},r=function(t){var e=[],i=!0,a=!1,n=void 0;try{for(var o,r=t[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value;e.unshift(s)}}catch(t){a=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(a)throw n}}return e},s=function(t){for(var e=[],i=t.previousSibling;i;)1===i.nodeType&&e.push(i),i=i.previousSibling;e.reverse();for(var a=t.nextSibling;a;)1===a.nodeType&&e.push(a),a=a.nextSibling;return e};e.a={contains:n,siblings:s,getTimes:o,reverseFn:r}},68:function(t,e,i){t.exports=i.p+"icon-left.svg?63f821378f34f73120de85c5f9d8b267"},69:function(t,e,i){t.exports=i.p+"icon-noradio.png?b6281f7d8f2f29dd0cea195436a4c7f8"},70:function(t,e,i){t.exports=i.p+"icon-radio.png?46024ada3fc0f7016b18a0199f1d809a"},71:function(t,e,i){t.exports=i.p+"icon-chan.png?e7fe1ce4d14f5c2b2eae7ab9e775108c"},72:function(t,e,i){t.exports=i.p+"icon-jia.png?94e73b18b32d8e34fd4b0b76bf6c89be"},73:function(t,e,i){t.exports=i.p+"icon-wenzi.png?59d730fdf70c466b3faa1713d4b9a00a"},74:function(t,e,i){t.exports=i.p+"icon-kong.png?d178bffbf05d61c5c4586ffa575e2841"},75:function(t,e,i){t.exports=i.p+"icon-gou.png?ed58dae95645418171a2ef3bcadd13f3"},76:function(t,e,i){t.exports=i.p+"icon-cha.png?db2ddc2f0ccf12a95dfd85b079497cc2"},77:function(t,e,i){t.exports=i.p+"icon-listgou.svg?5a25f723f04832d651639ed1f65ddac9"},78:function(t,e,i){t.exports=i.p+"icon-upimg.png?8cb6ae22e6eea2164c1afd658284be85"},95:function(t,e,i){"use strict";var a=i(17),n=i(67),o=i(14),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t){i.e(10).then(function(){t(i(79))}.bind(null,i)).catch(i.oe)},d=function(t){i.e(12).then(function(){t(i(96))}.bind(null,i)).catch(i.oe)},c=function(t){i.e(9).then(function(){t(i(80))}.bind(null,i)).catch(i.oe)};e.a={components:{AlertImg:s,AlertTime:d,"image-html5-upload":c},created:function(){var t={zh_CN:{messages:{email:function(){return"邮箱格式不正确哦"},required:function(t){return t+"不能为空"},numeric:function(t){return t+"不是数字"}},attributes:{cardValue:"数值",cardTitle:"活动标题",getCardNum:"领券数量",condition:"使用条件",place:"使用场所",instruction:"使用说明"}}};a.a.localize(t),a.a.extend("maxmin",{getMessage:function(t){return t+"不在数字范围内"},validate:function(t){return/^(\d|9)(\.\d)?$/.test(t)}}),a.a.extend("num",{getMessage:function(t){return t+"请输入大于0的数字"},validate:function(t){return/^(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$/.test(t)}}),void 0!=this.$route.query.type&&(this.Type=parseInt(this.$route.query.type)),void 0!=this.$route.query.id&&(this.id=parseInt(this.$route.query.id)),void 0!=this.$route.query.token&&(this.token=this.$route.query.token),1==this.Type&&(this.title=" 添加卡券")},mounted:function(){var t=this;this.initCardType(),2!=this.Type&&3!=this.Type||(t.MintUi.Indicator.open({text:"加载中...",spinnerType:"fading-circle"}),o.a.ajaxData(t.token,o.a.urlMap.coupon.detail,{couponId:t.id},"get",function(e){2==t.Type?t.title="修改卡券":3==t.Type&&(t.title="查看卡券"),console.log(e);for(var i={},a=0;a<t.cardTypeList.length;a++)if(t.cardTypeList[a].value==e.coupon.couponType){i=t.cardTypeList[a];break}t.cardTypeInit.value=""+e.coupon.couponType,t.cardTypeInit.text=i.text,2!==e.coupon.couponType?(t.amtype=1,t.cardValue=e.coupon.faceValue):2==e.coupon.couponType&&(t.cardValue=e.coupon.discount,t.amtype=2),t.cardTitle=e.coupon.title;try{t.lingQuNum=parseInt(e.coupon.couponNum-e.coupon.deliveryNum),t.usedNum=e.coupon.usedNum}catch(t){}t.st=e.coupon.startTime,t.starttime=n.a.getTimes(e.coupon.startTime+"","YY-MM-DD"),t.startTime1=new Date(e.coupon.startTime),t.et=e.coupon.endTime,t.endtime=n.a.getTimes(e.coupon.endTime+"","YY-MM-DD"),t.endTime1=new Date(e.coupon.endTime),t.getCardNum=e.coupon.limitNum,t.condition=e.coupon.useCondition,t.imgPreview.id=(new Date).getTime(),t.imgPreview.url=o.a.imageUrl+e.coupon.logo,t.imgPreview.index=0,t.coversImg.push({id:t.imgPreview.id,alt:"说明",dataurl:"",url:o.a.imageUrl+e.coupon.logo}),t.place=e.coupon.usePlace,t.instruction=e.coupon.remark;var r=e.coupon.weeks;r=r.split(","),t.weekKey=r;var s=e.coupon.times;s=s.split(";"),console.log(s),t.limitedTime=[];for(var d=0;d<s.length;d++){var c=s[d].split(",");t.limitedTime.push({id:(new Date).getTime(),one:c[0],two:c[1]})}t.MintUi.Indicator.close()}))},data:function(){return{title:"",cardTypeList:[{value:"0",text:"请选择"},{value:"1",text:"代金券"},{value:"2",text:"折扣券"},{value:"3",text:"优惠券"},{value:"4",text:"兑换券"}],cardTypeInit:{value:"0",id:"spfl",key:!1,text:""},id:"",lingQuNum:0,usedNum:0,Type:1,disabled:!1,cardValue:"",cardValuez:"",amtype:1,cardTitle:"",getCardNum:1,condition:"",place:"",instruction:"",coversImgIndex:0,starttime:"开始时间",endtime:"结束时间",et:"",st:"",startTime1:new Date,endTime1:new Date,startDate:new Date("2010-01-01"),endDate:new Date("2050-01-01"),imgPreview:{key:!1,index:0,id:"",url:""},upFileInfo:{key:!1,id:"123"},coversImg:[],weekKey:[],limitedDate:[{name:"星期一",id:"1"},{name:"星期二",id:"2"},{name:"星期三",id:"3"},{name:"星期四",id:"4"},{name:"星期五",id:"5"},{name:"星期六",id:"6"},{name:"星期日",id:"7"}],pickerValue:"",startHour:0,startMinute:0,endHour:23,limitTimeInfo:{key:!1},limitedTime:[{id:(new Date).getTime(),one:"00:00",two:"23:59"}]}},methods:{xhClass:function(t){for(var e=!1,i=0;i<this.weekKey.length;i++)this.weekKey[i]==t.id&&(e=!0);return e},startTime:function(){this.$refs.date.open()},endTime:function(){this.$refs.date1.open()},handStrat:function(t){console.log(void 0===t?"undefined":r(t)),this.starttime=n.a.getTimes(t,"YY-MM-DD"),this.startDate=t,this.st=new Date(t).getTime()},handEnd:function(t){this.endtime=n.a.getTimes(t,"YY-MM-DD"),this.endDate=t,this.et=new Date(t).getTime()},timeClose:function(){this.limitTimeInfo.key=!1},timeOk:function(){var t=(new Date).getTime()+parseInt(1e4*Math.random()+1e3);this.limitedTime.push({id:t,one:this.$refs.cot.value,two:this.$refs.ctt.value}),this.limitTimeInfo.key=!1},checkOneTime:function(t){this.$refs.picker.open()},checkTwoTime:function(t){this.$refs.picker1.open()},addTime:function(){this.limitTimeInfo.key=!0,this.startHour=0,this.startMinute=0},handleConfirm:function(t){this.$refs.cot.value=t;var e=parseInt(t.split(":")[0]),i=parseInt(t.split(":")[1]);this.startMinute=i,this.startHour=e},handleConfirm1:function(t){this.$refs.ctt.value=t;var e=parseInt(t.split(":")[0]);this.endHour=e},removeTime:function(t){var e=this;e.MintUi.MessageBox.confirm("确定删除?").then(function(i){var a=n.a.contains(e.limitedTime,t,"id");e.limitedTime.splice(a,1)},function(t){console.log(t)})},previewImg:function(t,e){this.imgPreview.key=!0,this.imgPreview.index=e,this.imgPreview.id=t.id},indexChange:function(t){this.coversImgIndex=parseInt(t),this.imgPreview.id=this.coversImg[t].id,this.imgPreview.url=this.coversImg[t].url,this.imgPreview.index=parseInt(t)},rt:function(){return!0},stext:function(t,e){for(var i=0;i<t.length;i++)if(t[i].value==e.value)return t[i]},cardChangFn:function(t,e){this.cardTypeInit.value=e.value},okCradTypeList:function(){var t=this.stext(this.cardTypeList,this.cardTypeInit).text;this.cardTypeInit.text=t,this.cardTypeInit.key=!1,2==this.cardTypeInit.value?this.amtype=2:this.amtype=1},weekKeyFn:function(t,e){var i=t.target.dataset.key,a=t.target.dataset.id;if(1==i)this.weekKey.push(e.id),t.target.className="goods-color active",t.target.dataset.key="0";else{var o=n.a.contains(this.weekKey,a);this.weekKey.splice(o,1),t.target.className="goods-color",t.target.dataset.key="1"}},regTime:function(t,e){/^(([1-9]{1})|([0-1][0-9])|([1-2][0-3])):([0-5][0-9])$/.test(t.target.value)?(this.disabled=!1,this.limitedTime[e].one=t.target.value):(o.a.tip({txt:"请输入正确的时间格式"}),t.target.focus(),this.disabled=!0)},regTime1:function(t,e){/^(([1-9]{1})|([0-1][0-9])|([1-2][0-3])):([0-5][0-9])$/.test(t.target.value)?(this.disabled=!1,this.limitedTime[e].two=t.target.value):(o.a.tip({txt:"请输入正确的时间格式"}),t.target.focus(),this.disabled=!0)},changeIndex:function(t){console.log("-------------------------图片上传返回------------------------"),console.log(t),this.coversImgIndex=parseInt(t.index),this.imgPreview.id=this.coversImg[t.index].id,this.imgPreview.url=t.url,this.imgPreview.index=parseInt(t.index)},imgChange:function(){this.imgPreview.id="",this.imgPreview.url="",this.imgPreview.index=0,this.coversImgIndex=0},ok:function(){console.log("--------------------------vue data数据-------------------------"),console.log(this.$data);var t=this;if(0==t.cardTypeInit.value)return o.a.tip({txt:"请选择卡券类型"}),!1;if(""==t.cardValue)return 1==t.amtype?o.a.tip({txt:"请填写卡券面值"}):o.a.tip({txt:"请填写卡券折扣"}),!1;if(isNaN(t.cardValue))return 1==t.amtype?o.a.tip({txt:"卡券面值不是数字"}):o.a.tip({txt:"卡券折扣不是数字"}),!1;if(2==t.amtype&&!/^(\d|9)(\.\d)?$/.test(t.cardValue))return o.a.tip({txt:"卡券折扣数值不对"}),!1;if(1==t.amtype&&!/^(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$/.test(t.cardValue))return o.a.tip({txt:"卡券面值数值不对"}),!1;if(""==t.cardTitle)return o.a.tip({txt:"请输入卡券标题"}),!1;if(""==t.imgPreview.url)return o.a.tip({txt:"请上传封面图片"}),!1;if(""==t.st)return o.a.tip({txt:"请选择开始时间"}),!1;if(""==t.et)return o.a.tip({txt:"请选择结束时间"}),!1;if(""==t.place)return o.a.tip({txt:"请输入使用场所"}),!1;if(""==t.instruction)return o.a.tip("请输入卡券说明"),!1;if(0==t.weekKey.length)return o.a.tip({txt:"请选择有限时间"}),!1;if(0==t.limitedTime.length)return o.a.tip({txt:"请选择有限时段"}),!1;if(4==t.cardTypeInit.value)""==t.condition&&(t.condition=0);else if(""==t.condition||!/^(([0-9]+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*))$/.test(t.condition))return o.a.tip({txt:"请输入正确使用条件"}),!1;var e,i,a=1;a=""==t.getCardNum?parseInt(1):parseFloat(t.getCardNum),1==t.amtype?(i="",e=t.cardValue):(i=t.cardValue,e="");var n="";for(var r in t.limitedTime){if(r==t.limitedTime.length-1){n+=t.limitedTime[r].one+","+t.limitedTime[r].two+";";break}n+=t.limitedTime[r].one+","+t.limitedTime[r].two+";"}n=n.substring(0,n.length-1);var s=t.weekKey.join(",");if(1==t.Type){var d={title:t.cardTitle,logo:t.imgPreview.url.replace(o.a.imageUrl,""),couponType:t.amtype,startTime:t.starttime,endTime:t.endtime,weeks:s,times:n,remark:t.instruction,faceValue:e,discount:i,useCondition:t.condition,usePlace:t.place,limitNum:a};console.log("-------------------------卡券提交参数----------------------"),console.log(d),t.MintUi.Indicator.open({text:"提交中...",spinnerType:"fading-circle"}),o.a.ajaxData(t.token,o.a.urlMap.coupon.add,d,"post",function(e){t.MintUi.Indicator.close(),o.a.tip({txt:"添加卡券成功"});var i=navigator.userAgent,a=i.indexOf("Android")>-1||i.indexOf("Adr")>-1;!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?a&&(window.location.href="fenzu://jscome/backToPrevPage?update=12"):window.location.href="#SuccessToPrevPage*arg=0"})}else if(2==t.Type){var d={couponId:t.id,title:t.cardTitle,logo:t.imgPreview.url.replace(o.a.imageUrl,""),couponType:t.amtype,startTime:t.starttime,endTime:t.endtime,weeks:s,times:n,remark:t.instruction,faceValue:e,discount:i,useCondition:t.condition,usePlace:t.place,limitNum:a};console.log("-------------------------卡券修改参数----------------------"),console.log(d),t.MintUi.Indicator.open({text:"提交中...",spinnerType:"fading-circle"}),o.a.ajaxData(t.token,o.a.urlMap.coupon.update,d,"post",function(e){t.MintUi.Indicator.close(),o.a.tip({txt:"修改卡券成功"});var i=navigator.userAgent,a=i.indexOf("Android")>-1||i.indexOf("Adr")>-1;!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?a&&(window.location.href="fenzu://jscome/backToPrevPage?update=12"):window.location.href="#SuccessToPrevPage*arg=0"})}},initCardType:function(){this.cardTypeInit.text=this.stext(this.cardTypeList,this.cardTypeInit).text},save:function(){console.log(this.$data)}}}}});
//# sourceMappingURL=3.js.map?v=7d7ca4e5c6df68685288